<html>

<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
  <script src='asyncReq.js'> </script>
  <script
  src="https://code.jquery.com/jquery-3.4.1.js"
  integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
  crossorigin="anonymous"></script>
  <style>
  </style>

  <script>
// var currFeedID;
//     function addFeed(){
//       var uID = location.hash.replace("#","");
//       var a = document.getElementById("valA").value;
//       var url = "./addfeed?a=" + encodeURIComponent(a) + "&userID=" + uID
//       loadFile(url, function(data){
//         getAllFeeds();
//       });
//     }
    // function deleteFeed(){
    //   var uID = location.hash.replace("#","");
    //   var a = currFeedID
    //   var url = "./deletefeed?id=" + a + "&userID=" + uID
    //   loadFile(url, function(data){
    //     document.getElementById("currFeedList").innerHTML = "";
    //     getAllFeeds();
    //   });
    // }
    function start(){
      getAllFeeds();
    }

    allFeeds = [];
    function getAllFeeds(){
    //  document.getElementById("currFeedListWrapper").style.display = "none";
    //  document.getElementById("feedDetailsWrapper").style.display = "none";
      //var uID = location.hash.replace("#","");
      loadFile("./getallfeeds", function(data){
        allFeeds = JSON.parse(data);
        var markup = "";
        for(var i = 0; i < allFeeds.length; i++){
          markup = markup + allFeeds[i]+ "<br>";
        }
        document.getElementById("feed").innerHTML = markup;
      })
    }

    var currFeedData = {}

 //    function feedSelected(index)
 //    {
 //      var url = allFeeds[index].url;
 //      currFeedID = allFeeds[index].id;
 //      loadFile("./getrss?a=" + url, function(data){
 //       currFeedData = JSON.parse(data);
 //       var allItems = currFeedData.feed.results;
 //       var markup = "";
 //       for (var i = 0; i < allItems.length; i++){
 //         markup += "<button onclick='itemSelected("+ i + ")'> <img src='"+ allItems[i].artworkUrl100 + "'><h1>" + allItems[i].name + "</h1><h2>" + allItems[i].artistName + "</h2></button>";
 //       }
 //        document.getElementById("currFeedList").innerHTML = markup;
 // //       document.getElementById("currFeedListWrapper").style.display = "block";
 // //       document.getElementById("feedListWrapper").style.display = "none";
 //
 //
 //      });
 //    }
 //
 //    function itemSelected(index){
 //      var feedData = currFeedData.feed.results[index];
 //      var markup = JSON.stringify(feedData);
 //      document.getElementById("feedDetails").innerHTML = markup;
 //       // document.getElementById("currFeedListWrapper").style.display = "none";
 //       // document.getElementById("feedDetailsWrapper").style.display = "block";
 //        $("body").removeClass("state1 state0").addClass("state2")
 //    }
 //
 //    function backToFeeds(){
 // //       document.getElementById("currFeedListWrapper").style.display = "none";
 // //       document.getElementById("feedListWrapper").style.display = "block";
 //      $("body").removeClass("state1 state2").addClass("state0")
 //    }

 //    function backToItems(){
 // //       document.getElementById("currFeedListWrapper").style.display = "block";
 // //       document.getElementById("feedDetailsWrapper").style.display = "none";
 //      $("body").removeClass("state0 state2").addClass("state1")
 //    }
  </script>
</head>

<body onload='start()'>
hihih

<p id="feed"></p>

</body>

</html>
